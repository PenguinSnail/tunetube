{% extends 'layout.html' %}
{% block title %}
    TuneTube
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="static/css/pages/home.css" />
    <script src="/static/js/home-page.js" defer></script>

{% endblock %}

{% block body %}

    <!-- Container for user feed -->
    <div id="master">
        <!-- Empty Column -->
        <div class="left-div"></div>

        <!-- Feed Column -->
        <div class="center-div">
            {% for post in posts %}
                <!-- Link to the Post -->
                <div class="card" onclick = "">
                    
                    <!-- Post Title -->
                    <div class = "card-title"><href="/post/{{ post.getID()}}">{{post.getTitle()}}</div>
                    
                    <!-- Post Creator -->
                    <div class = "creator">{{ post.getUsername()}}</div>
                    <!-- Music Player -->
                    <p></p>

                    <div>
                        <span>Music player</span>
                        
                        <!-- Shows if the user likes the post -->
                        {%if user_info.isLiked(post.getID()) == True: %}
                        <span><button type = "button" onclick = "/like/{{post.getID()}}/unlike"> ðŸ’– </button></span>
                        {%else%}
                        <span> <button type = "button" formaction = "/like/{{post.getID()}}/like"> ðŸ’” </button></span>
                        {% endif %}
                    </div>

                    <p></p>

                    <a href="/post/{{ post.getID() }}" class ="underline small-font small-padding">View more comments</a>

                    <form action = "/post/{{ post.getID()}}" method = "POST">
                        <input class = "comment-box" type = "text" name = "create-comment" placeholder="Leave a comment" />
                    </form>
                </div>

            {% endfor %}
        </div>
        <!-- Profile Column -->
        <div class="right-div">
            <!-- Link to your profile -->
            <a>
                <div>
                    <h4 class = "userName", id = "currentUser" >Hello {{user_info.getName()}}!</h4>
                </div>
            </a>
        </div>
    </div>
{% endblock %}
